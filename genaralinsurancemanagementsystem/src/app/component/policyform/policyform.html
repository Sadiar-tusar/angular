<div class="container mt-4">
  <div class="card shadow-lg">
    <div class="card-header bg-primary text-white">
      <h3 class="mb-0">{{ isEditMode ? 'Edit' : 'Add' }} Insurance Policy</h3>
    </div>
    <div class="card-body">
      <form *ngIf="policyForm" [formGroup]="policyForm" (ngSubmit)="onSubmit()">
        <div class="row">
          <!-- Policyholder Name -->
          <div class="col-md-6 mb-3">
            <label class="form-label">Policyholder Name</label>
            <input type="text" class="form-control" formControlName="policyholderName" placeholder="Enter name" />
            <div *ngIf="policyForm.get('policyholderName')?.touched && policyForm.get('policyholderName')?.invalid" class="text-danger">
              Name is required.
            </div>
          </div>

          <!-- Age -->
          <div class="col-md-3 mb-3">
            <label class="form-label">Age</label>
            <input type="number" class="form-control" formControlName="age" placeholder="Enter age" />
            <div *ngIf="policyForm.get('age')?.touched && policyForm.get('age')?.invalid" class="text-danger">
              Valid age is required.
            </div>
          </div>

          <!-- Gender -->
          <div class="col-md-3 mb-3">
            <label class="form-label">Gender</label>
            <select class="form-select" formControlName="gender">
              <option value="">Select gender</option>
              <option value="Male">Male</option>
              <option value="Female">Female</option>
              <option value="Other">Other</option>
            </select>
            <div *ngIf="policyForm.get('gender')?.touched && policyForm.get('gender')?.invalid" class="text-danger">
              Gender is required.
            </div>
          </div>

          <!-- Policy Start Date -->
          <div class="col-md-6 mb-3">
            <label class="form-label">Policy Start Date</label>
            <input type="date" class="form-control" formControlName="policyStartDate" />
            <div *ngIf="policyForm.get('policyStartDate')?.touched && policyForm.get('policyStartDate')?.invalid" class="text-danger">
              Start date is required.
            </div>
          </div>

          <!-- Policy End Date -->
          <div class="col-md-6 mb-3">
            <label class="form-label">Policy End Date</label>
            <input type="date" class="form-control" formControlName="policyEndDate" />
            <div *ngIf="policyForm.get('policyEndDate')?.touched && policyForm.get('policyEndDate')?.invalid" class="text-danger">
              End date is required.
            </div>
          </div>

          <!-- Sum Insured -->
          <div class="col-md-6 mb-3">
            <label class="form-label">Sum Insured</label>
            <input type="number" class="form-control" formControlName="sumInsured" placeholder="Enter sum insured" />
            <div *ngIf="policyForm.get('sumInsured')?.touched && policyForm.get('sumInsured')?.invalid" class="text-danger">
              Sum insured is required.
            </div>
          </div>

          <!-- Premium Amount -->
          <div class="col-md-6 mb-3">
            <label class="form-label">Premium Amount</label>
            <input type="number" class="form-control" formControlName="premiumAmount" placeholder="Enter premium" />
            <div *ngIf="policyForm.get('premiumAmount')?.touched && policyForm.get('premiumAmount')?.invalid" class="text-danger">
              Premium amount is required.
            </div>
          </div>

          <!-- Coverage Limit -->
          <div class="col-md-6 mb-3">
            <label class="form-label">Coverage Limit</label>
            <input type="number" class="form-control" formControlName="coverageLimit" placeholder="Enter coverage limit" />
            <div *ngIf="policyForm.get('coverageLimit')?.touched && policyForm.get('coverageLimit')?.invalid" class="text-danger">
              Coverage limit is required.
            </div>
          </div>

          <!-- Nominee Name -->
          <div class="col-md-6 mb-3">
            <label class="form-label">Nominee Name</label>
            <input type="text" class="form-control" formControlName="nomineeName" placeholder="Enter nominee name" />
            <div *ngIf="policyForm.get('nomineeName')?.touched && policyForm.get('nomineeName')?.invalid" class="text-danger">
              Nominee name is required.
            </div>
          </div>

          <!-- Nominee Relation -->
          <div class="col-md-6 mb-3">
            <label class="form-label">Nominee Relation</label>
            <input type="text" class="form-control" formControlName="nomineeRelation" placeholder="Enter relation" />
            <div *ngIf="policyForm.get('nomineeRelation')?.touched && policyForm.get('nomineeRelation')?.invalid" class="text-danger">
              Relation is required.
            </div>
          </div>

          <!-- Email -->
          <div class="col-md-6 mb-3">
            <label class="form-label">Email</label>
            <input type="email" class="form-control" formControlName="email" placeholder="Enter email" />
            <div *ngIf="policyForm.get('email')?.touched && policyForm.get('email')?.invalid" class="text-danger">
              Valid email is required.
            </div>
          </div>
        </div>

        <!-- Hidden field for policyId -->
        <input type="hidden" formControlName="policyId" />

        <!-- Submit Button -->
        <div class="text-end">
          <button type="submit" class="btn btn-success" [disabled]="policyForm.invalid">
            {{ isEditMode ? 'Update' : 'Add' }} Policy
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
